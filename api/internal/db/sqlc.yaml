version: 2
sql:
  - schema: ./migrations
    queries: ./queries
    engine: postgresql
    gen:
      go:
        package: dbc
        out: ../lib/dao/internal/dbc
        emit_prepared_queries: true
        emit_interface: true
        overrides:
          - db_type: uuid
            go_type:
              import: github.com/oklog/ulid/v2
              package: ulid
              type: ULID
          - db_type: uuid
            nullable: true
            go_type:
              import: github.com/oklog/ulid/v2
              package: ulid
              type: ULID
          - column: events.id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.EventID
          - column: events.current_venue_key
            go_type: uint32
          - column: events.current_schedule_cache_version
            go_type: uint32
          - column: venues.id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.VenueID
          - column: stages.id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.StageID
          - column: stages.event_id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.EventID
          - column: stages.venue_id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.VenueID
          - column: stages.rules_id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.RuleID
          - column: stages.venue_key
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.VenueKey
          - column: stages.duration_minutes
            go_type: uint32
          - column: players.id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.PlayerID
          - column: players.event_id
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.EventID
          - column: players.scoring_category
            go_type: github.com/pubgolf/pubgolf/api/internal/lib/models.ScoringCategory
